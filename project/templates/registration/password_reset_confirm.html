{% extends "base.html" %} 
{% load i18n %} 
{% block title %}
{% trans "Set New Password" %}{% endblock %} 
{% block content %}
<div
  class="auth-wrapper"
  style="
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;
    padding: 2rem;
  "
>
  <div
    class="auth-card"
    style="
      background: white;
      padding: 2rem;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      width: 100%;
      max-width: 400px;
    "
  >
    <h2 style="margin-top: 0; margin-bottom: 1.5rem; text-align: center">
      {% trans "Set New Password" %}
    </h2>
    {% if validlink %}
    <p style="margin-bottom: 1.5rem; color: #666">{% trans "Please enter your new password twice so we can verify you typed it in correctly." %}</p>
    <form method="post">
      {% csrf_token %} {% for field in form %}
      <div class="form-group" style="margin-bottom: 1rem">
        <label
          for="{{ field.id_for_label }}"
          style="display: block; margin-bottom: 0.5rem; font-weight: 500"
          >{{ field.label }}</label
        >
        {{ field }} 
        {% if field.errors %}
        <div
          class="error"
          style="color: red; font-size: 0.875rem; margin-top: 0.25rem"
        >
          {{ field.errors }}
        </div>
        {% endif %} 
        {% if field.help_text %}
        <div
          class="help-text"
          style="color: #666; font-size: 0.75rem; margin-top: 0.25rem"
        >
          {{ field.help_text|safe }}
        </div>
        {% endif %}
      </div>
      {% endfor %}
      <button
        type="submit"
        style="
          width: 100%;
          padding: 0.75rem;
          background-color: #007bff;
          color: white;
          border: none;
          border-radius: 4px;
          font-size: 1rem;
          cursor: pointer;
        "
      >
        {% trans "Set Password" %}
      </button>
    </form>
    {% else %}
    <p style="color: #666">{% trans "The password reset link was invalid, possibly because it has already been used. Please request a new password reset." %}</p>
    <div style="margin-top: 1rem; text-align: center">
      <a
        href="{% url 'password_reset' %}"
        style="color: #007bff; text-decoration: none"
        >{% trans "Request new reset" %}</a
      >
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}
